<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
	 <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content=".taskpilot">
      <meta name="keywords" content=".taskpilot">
      <meta property="og:image" content="/img/logo.svg">
	<title>Tools Access Request</title>
	 <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Icons+Outlined">
	 <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Icons">
		<link rel="stylesheet" href="/css/styles.css">

    <script>
        function toggleForm() {
            const selection = document.querySelector('input[name="requestFor"]:checked').value;
            if (selection === 'myself') {
                document.getElementById('myself-form').style.display = 'block';
                document.getElementById('someone-else-form').style.display = 'none';
            } else {
                document.getElementById('myself-form').style.display = 'none';
                document.getElementById('someone-else-form').style.display = 'block';
            }
        }
    </script>
</head>
<body>
	
	
		 <div class="nav-main">
            <div class="nav-container">
               <nav class="nav" >
                  <div class="nav-logo ">
                     <a href="index.html"><img src="/img/logo.svg" align="absmiddle" class="hide" alt=""></a>
					  
					  
						 
                        <div class="btn-top-container">
							
<div>
		<a href="/logout" title="Logout">					
		<div class="btn-btm">
            <i class="material-icons-outlined">logout</i>  
           
         </div></a>
					
			</div>				
							
                        </div>
                  	
					  
					  
					  
                  </div>
               </nav>
            </div>
         </div>
	
	
	
	
	  <div class="home-container">
	<div class="apps-container">
		<div class="apps-container-logo"><div class="logo"></div></div>
	
	
    <h2>Tools Access Request</h2>
    <% if (typeof error !== 'undefined') { %>
        <p style="color:red;"><%= error %></p>
    <% } %>
    <form action="/tools" method="POST">
        <p>
            <label>
                <input type="radio" name="requestFor" value="myself" onchange="toggleForm()" checked>
                Request for myself
            </label>
            <label>
                <input type="radio" name="requestFor" value="someone else" onchange="toggleForm()">
                Request for someone else
            </label>
        </p>
        
        <div id="myself-form">
				<div class="div-content-group ">
            <label>Select Tool:</label>
            <select name="selectedTool" required>
                <% tools.forEach(function(tool) { %>
                    <option value="<%= tool._id %>"><%= tool.name %></option>
                <% }) %>
            </select><br>
					</div><div class="div-content-group ">
            <label>Justification:</label>
            <textarea name="justification"></textarea><br>
				</div><div class="div-content-group ">
            <label>Add Approval (Your registered email):</label>
            <input type="email" name="approval"><br>
				</div>
        </div>
        
        <div id="someone-else-form" style="display:none;">
			<div class="div-content-group ">
            <label>Requestor's Name:</label>
            <input type="text" name="requestorName"><br>
					</div><div class="div-content-group ">
            <label>Employee ID:</label>
            <input type="text" name="employeeID"><br>
			</div><div class="div-content-group ">
            <label>Employee Email Address:</label>
            <input type="email" name="employeeEmail"><br>
			</div><div class="div-content-group ">
            <label>Select Tool:</label>
            <select name="tool">
                <% tools.forEach(function(tool) { %>
                    <option value="<%= tool._id %>"><%= tool.name %></option>
                <% }) %>
            </select><br>
					</div>
        </div>
				<div class="spacer-10"></div>
		<div class="div-content-group ">
        <button type="submit" class="btn-submit">Submit</button>
			 <button class="btn-cancel" onclick="location.href='/home'">Cancel</button>
			</div>
    </form>
    <br>


				</div>
				</div>
			
    <script>
        // Initialize form visibility
        toggleForm();
    </script>
</body>
</html>